{"ast":null,"code":"var _jsxFileName = \"/home/vm/\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438/test_work/src/Components/React/InputField/index.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AddUser from '../../Redux/Actions/AddUser'; // class InputField extends Component{\n//     constructor(props) {\n//         super(props)\n//         this.state={\n//             //value:'',\n//             strLog:'',\n//             isHide:props.isHide,\n//         }\n//         this.onChange=this.onChange.bind(this)\n//         this.switchHide=this.switchHide.bind(this)\n//         this.cleartextarea=this.cleartextarea.bind(this)\n//     }\n//     switchHide() {\n//         const {isHide} = this.state\n//         console.log(!isHide)\n//         this.setState({isHide:!isHide})\n//     }\n//     static propTypes = {\n//         strInput:PropTypes.string,\n//         strLog:PropTypes.string,\n//         isHide:PropTypes.bool\n//     }\n//     onChange(){\n//         const {value} = this.textarea\n//         const {onSetCards} = this.props\n//         const {switchHide,cleartextarea} = this\n//         if(IsJsonString(value)){\n//             const json = JSON.parse(value)\n//             cleartextarea()\n//             onSetCards(json)\n//             switchHide()\n//         }\n//         else if(value!=='')\n//         {\n//             this.setState({strLog:'Не верный формат!'})\n//         }\n//         else\n//             this.setState({strLog:''})     \n//     }\n//     getInputRef = (node)=>{this.textarea=node}\n//     cleartextarea = () => {this.textarea.value=''}\n//     render(){\n//         const {getInputRef, onChange, switchHide} = this\n//         const {strLog, isHide} = this.state\n//         return(\n//             <div>\n//                 <div hidden={isHide}>\n//                     <button onClick={switchHide}>Ввод данных</button>\n//                 </div>\n//                 <div hidden={!isHide}>\n//                     <div>Ведите данные JSON: </div>\n//                     <textarea ref={getInputRef} onInput={onChange} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n//                     <div>{strLog}</div>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\nfunction IsJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n} // Old Ver.\n//()=>setCardsParseJSON(this._ref.value)\n\n\nconst InputField = ({\n  store,\n  setCardsParseJSON = f => f\n}) => {\n  let tafield,\n      onAddUser = () => {\n    //(id, name, email, config, timer, flags, dateactivate)\n    if (IsJsonString(tafield)) {\n      const reasul = JSON.parse(tafield);\n      if (Array.isArray(reasul)) reasul.map(u => store.dispatch(AddUser(u.id, u.name, u.email, u.config, u.timer, u.flags, u.dateactivate)));\n      esle;\n      store.dispatch(AddUser(reasul.id, reasul.name, reasul.email, reasul.config, reasul.timer, reasul.flags, reasul.dateactivate));\n    } // IsJsonString(tafield)?\n    //     const newUser=:\n    // store.dispatch(\n    //     AddUser()\n    // )\n\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 JSON: \"), React.createElement(\"textarea\", {\n    ref: ta => tafield = ta,\n    onInput: () => setCardsParseJSON(tafield.value),\n    name: \"comment\",\n    cols: \"40\",\n    rows: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: onAddUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Add\"), React.createElement(\"div\", {\n    hidden: !IsJsonString(tafield),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432\\u0432\\u043E\\u0434\\u0430\"));\n};\n\nexport default InputField;","map":{"version":3,"sources":["/home/vm/Загрузки/test_work/src/Components/React/InputField/index.js"],"names":["React","Component","PropTypes","AddUser","IsJsonString","str","JSON","parse","e","InputField","store","setCardsParseJSON","f","tafield","onAddUser","reasul","Array","isArray","map","u","dispatch","id","name","email","config","timer","flags","dateactivate","esle","ta","value"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,6BAApB,C,CAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACvB,MAAI;AACAC,IAAAA,IAAI,CAACC,KAAL,CAAWF,GAAX;AACH,GAFD,CAEE,OAAOG,CAAP,EAAU;AACR,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH,C,CAED;AACA;;;AACA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,iBAAiB,GAACC,CAAC,IAAEA;AAA9B,CAAD,KAAoC;AACnD,MAAIC,OAAJ;AAAA,MAEAC,SAAS,GAAC,MAAI;AAEV;AACA,QAAGV,YAAY,CAACS,OAAD,CAAf,EACA;AACI,YAAME,MAAM,GAAGT,IAAI,CAACC,KAAL,CAAWM,OAAX,CAAf;AACA,UAAGG,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAH,EACIA,MAAM,CAACG,GAAP,CAAWC,CAAC,IACRT,KAAK,CAACU,QAAN,CACIjB,OAAO,CACHgB,CAAC,CAACE,EADC,EAEHF,CAAC,CAACG,IAFC,EAGHH,CAAC,CAACI,KAHC,EAIHJ,CAAC,CAACK,MAJC,EAKHL,CAAC,CAACM,KALC,EAMHN,CAAC,CAACO,KANC,EAOHP,CAAC,CAACQ,YAPC,CADX,CADJ;AAcJC,MAAAA,IAAI;AACAlB,MAAAA,KAAK,CAACU,QAAN,CACIjB,OAAO,CACHY,MAAM,CAACM,EADJ,EAEHN,MAAM,CAACO,IAFJ,EAGHP,MAAM,CAACQ,KAHJ,EAIHR,MAAM,CAACS,MAJJ,EAKHT,MAAM,CAACU,KALJ,EAMHV,MAAM,CAACW,KANJ,EAOHX,MAAM,CAACY,YAPJ,CADX;AAWP,KAjCS,CAoCV;AACA;AAIA;AACA;AACA;;AACH,GA9CD;;AAgDA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFADJ,EAEI;AAAU,IAAA,GAAG,EAAEE,EAAE,IAAEhB,OAAO,GAACgB,EAA3B;AAA+B,IAAA,OAAO,EAAE,MAAIlB,iBAAiB,CAACE,OAAO,CAACiB,KAAT,CAA7D;AAA8E,IAAA,IAAI,EAAC,SAAnF;AAA6F,IAAA,IAAI,EAAC,IAAlG;AAAuG,IAAA,IAAI,EAAC,GAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAQ,IAAA,OAAO,EAAEhB,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHJ,EAII;AAAK,IAAA,MAAM,EAAE,CAACV,YAAY,CAACS,OAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAJJ,CADJ;AAQH,CAzDD;;AA2DA,eAAeJ,UAAf","sourcesContent":["import React,{Component} from 'react';\nimport PropTypes from 'prop-types'\nimport AddUser from '../../Redux/Actions/AddUser'\n\n\n// class InputField extends Component{\n\n//     constructor(props) {\n//         super(props)\n//         this.state={\n//             //value:'',\n//             strLog:'',\n//             isHide:props.isHide,\n//         }\n//         this.onChange=this.onChange.bind(this)\n//         this.switchHide=this.switchHide.bind(this)\n//         this.cleartextarea=this.cleartextarea.bind(this)\n//     }\n\n//     switchHide() {\n        \n//         const {isHide} = this.state\n//         console.log(!isHide)\n//         this.setState({isHide:!isHide})\n//     }\n\n//     static propTypes = {\n//         strInput:PropTypes.string,\n//         strLog:PropTypes.string,\n//         isHide:PropTypes.bool\n//     }\n\n//     onChange(){\n//         const {value} = this.textarea\n//         const {onSetCards} = this.props\n//         const {switchHide,cleartextarea} = this\n//         if(IsJsonString(value)){\n//             const json = JSON.parse(value)\n//             cleartextarea()\n//             onSetCards(json)\n//             switchHide()\n//         }\n//         else if(value!=='')\n//         {\n//             this.setState({strLog:'Не верный формат!'})\n//         }\n//         else\n//             this.setState({strLog:''})     \n//     }\n\n//     getInputRef = (node)=>{this.textarea=node}\n//     cleartextarea = () => {this.textarea.value=''}\n\n//     render(){\n//         const {getInputRef, onChange, switchHide} = this\n//         const {strLog, isHide} = this.state\n//         return(\n//             <div>\n//                 <div hidden={isHide}>\n//                     <button onClick={switchHide}>Ввод данных</button>\n//                 </div>\n//                 <div hidden={!isHide}>\n//                     <div>Ведите данные JSON: </div>\n//                     <textarea ref={getInputRef} onInput={onChange} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n//                     <div>{strLog}</div>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\nfunction IsJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\n// Old Ver.\n//()=>setCardsParseJSON(this._ref.value)\nconst InputField = ({ store, setCardsParseJSON=f=>f})=>{\n    let tafield,\n\n    onAddUser=()=>{\n        \n        //(id, name, email, config, timer, flags, dateactivate)\n        if(IsJsonString(tafield))\n        {\n            const reasul = JSON.parse(tafield)\n            if(Array.isArray(reasul))\n                reasul.map(u=>\n                    store.dispatch(\n                        AddUser(\n                            u.id,\n                            u.name,\n                            u.email,\n                            u.config,\n                            u.timer,\n                            u.flags,\n                            u.dateactivate\n                        )\n                    )\n                )\n\n            esle\n                store.dispatch(\n                    AddUser(\n                        reasul.id,\n                        reasul.name,\n                        reasul.email,\n                        reasul.config,\n                        reasul.timer,\n                        reasul.flags,\n                        reasul.dateactivate\n                    )\n                )         \n        }\n        \n        \n        // IsJsonString(tafield)?\n        //     const newUser=:\n\n\n\n        // store.dispatch(\n        //     AddUser()\n        // )\n    }\n\n    return(\n        <div>\n            <div>Ведите данные JSON: </div>\n            <textarea ref={ta=>tafield=ta} onInput={()=>setCardsParseJSON(tafield.value)} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n            <button onClick={onAddUser}>Add</button>\n            <div hidden={!IsJsonString(tafield)}>Ошибка ввода</div>\n        </div>\n    )\n}\n\nexport default InputField"]},"metadata":{},"sourceType":"module"}