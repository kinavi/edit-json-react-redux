{"ast":null,"code":"var _jsxFileName = \"/home/vm/simple_build_facebook/src/Components/InputField/index.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass InputField extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getInputRef = node => {\n      this.textarea = node;\n    };\n\n    this.cleartextarea = () => {\n      this.textarea.value = '';\n    };\n\n    this.state = {\n      //value:'',\n      strLog: '',\n      isHide: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.switchHide = this.switchHide.bind(this);\n    this.cleartextarea = this.cleartextarea.bind(this);\n  }\n\n  switchHide() {\n    const isHide = this.state.isHide;\n    console.log(!isHide);\n    this.setState({\n      isHide: !isHide\n    });\n  }\n\n  onChange() {\n    const value = this.textarea.value;\n    const onSetCards = this.props.onSetCards;\n    const switchHide = this.switchHide,\n          cleartextarea = this.cleartextarea;\n\n    if (IsJsonString(value)) {\n      const json = JSON.parse(value);\n      cleartextarea();\n      onSetCards(json);\n      switchHide();\n    } else if (value !== '') {\n      this.setState({\n        strLog: 'Не верный формат!'\n      });\n    } else this.setState({\n      strLog: ''\n    });\n  }\n\n  render() {\n    const getInputRef = this.getInputRef,\n          onChange = this.onChange,\n          switchHide = this.switchHide;\n    const _this$state = this.state,\n          strLog = _this$state.strLog,\n          isHide = _this$state.isHide;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      hidden: isHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: switchHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u0412\\u0432\\u043E\\u0434 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\")), React.createElement(\"div\", {\n      hidden: !isHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u0412\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 JSON: \"), React.createElement(\"textarea\", {\n      ref: getInputRef,\n      onInput: onChange,\n      name: \"comment\",\n      cols: \"40\",\n      rows: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, strLog)));\n  }\n\n}\n\nInputField.propTypes = {\n  strInput: PropTypes.string,\n  strLog: PropTypes.string,\n  isHide: PropTypes.bool\n};\n\nfunction IsJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n} // Old Ver.\n//()=>setCardsParseJSON(this._ref.value)\n// const InputField = ({ setCardsParseJSON=f=>f})=>{\n//     let _ref\n//     return(\n//         <div>\n//             <div>Ведите данные JSON: </div>\n//             <textarea ref={ta=>_ref=ta} onInput={()=>setCardsParseJSON(_ref.value)} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n//         </div>\n//     )\n// }\n\n\nexport default InputField;","map":{"version":3,"sources":["/home/vm/simple_build_facebook/src/Components/InputField/index.js"],"names":["React","Component","PropTypes","InputField","constructor","props","getInputRef","node","textarea","cleartextarea","value","state","strLog","isHide","onChange","bind","switchHide","console","log","setState","onSetCards","IsJsonString","json","JSON","parse","render","propTypes","strInput","string","bool","str","e"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport PropTypes from 'prop-types'\n\nclass InputField extends Component{\n\n    constructor(props) {\n        super(props)\n        this.state={\n            //value:'',\n            strLog:'',\n            isHide:false,\n        }\n        this.onChange=this.onChange.bind(this)\n        this.switchHide=this.switchHide.bind(this)\n        this.cleartextarea=this.cleartextarea.bind(this)\n    }\n\n    switchHide() {\n        \n        const {isHide} = this.state\n        console.log(!isHide)\n        this.setState({isHide:!isHide})\n    }\n\n    static propTypes = {\n        strInput:PropTypes.string,\n        strLog:PropTypes.string,\n        isHide:PropTypes.bool\n    }\n\n    onChange(){\n        const {value} = this.textarea\n        const {onSetCards} = this.props\n        const {switchHide,cleartextarea} = this\n        if(IsJsonString(value)){\n            const json = JSON.parse(value)\n            cleartextarea()\n            onSetCards(json)\n            switchHide()\n        }\n        else if(value!=='')\n        {\n            this.setState({strLog:'Не верный формат!'})\n        }\n        else\n            this.setState({strLog:''})     \n    }\n\n    getInputRef = (node)=>{this.textarea=node}\n    cleartextarea = () => {this.textarea.value=''}\n\n    render(){\n        const {getInputRef, onChange, switchHide} = this\n        const {strLog, isHide} = this.state\n        return(\n            <div>\n                <div hidden={isHide}>\n                    <button onClick={switchHide}>Ввод данных</button>\n                </div>\n                <div hidden={!isHide}>\n                    <div>Ведите данные JSON: </div>\n                    <textarea ref={getInputRef} onInput={onChange} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n                    <div>{strLog}</div>\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction IsJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\n// Old Ver.\n//()=>setCardsParseJSON(this._ref.value)\n// const InputField = ({ setCardsParseJSON=f=>f})=>{\n//     let _ref\n//     return(\n//         <div>\n//             <div>Ведите данные JSON: </div>\n//             <textarea ref={ta=>_ref=ta} onInput={()=>setCardsParseJSON(_ref.value)} name=\"comment\" cols=\"40\" rows=\"3\"></textarea>\n//         </div>\n//     )\n// }\n\nexport default InputField"]},"metadata":{},"sourceType":"module"}